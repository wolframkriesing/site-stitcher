<!doctype html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="mobile-web-app-capable" content="yes" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="author" content="Wolfram Kriesing">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="picostitch - crafting (and) JavaScript">

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@wolframkriesing" />
  <meta name="twitter:title" content="Don't promisify `fs.exists`" />

  <meta property="og:title" content="Don't promisify `fs.exists`">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://picostitch.com/blog/2015/11/10-dont-promisify-fs-exists/">
  <meta property="og:site_name" content="picostitch - crafting (and) JavaScript">

  <script async defer data-domain="picostitch.com" src="https://plausible.io/js/plausible.js"></script>
  <script async defer type="module" src="https://more-html.github.io/components/src/Heading-loader.js"></script>
  <link rel="canonical" href="https://picostitch.com/blog/2015/11/10-dont-promisify-fs-exists/">
  <title>Don't promisify `fs.exists` | picostitch - crafting (and) JavaScript</title>
  
  <link rel="stylesheet" href="/blog/blog.css" type="text/css">
  <meta property="article:type" content="article" />
  
    <meta property="article:tag" content="javascript" />
    <meta property="article:tag" content="async" />
    <meta property="article:tag" content="knowledgebase" />
  <meta property="article:description" content="Don't promisify `fs.exists` since this does not play by the rules of node style callback params,
where the first one should be err and then data. It seems this does return only the data, which
[promisify] understands as an error and does throw right away. Instead do what the 
[node js docs suggest][promisify-nodejsdocs] 
too and use `fs.access` instead, like so: `promisify(fs.access)(aPath, fs.R_OK)`.
See it in action [here in the cosmowiki]." />
  <meta property="twitter:description" content="Don't promisify `fs.exists` since this does not play by the rules of node style callback params,
where the first one should be err and then data. It seems this does return only the data, which
[promisify] understands as an error and does throw right away. Instead do what the 
[node js docs suggest][promisify-nodejsdocs] 
too and use `fs.access` instead, like so: `promisify(fs.access)(aPath, fs.R_OK)`.
See it in action [here in the cosmowiki]." />
  
    <meta property="og:image" content="/blog/2015/11/10-dont-promisify-fs-exists/" />
    <meta property="og:image:url"  content="/blog/2015/11/10-dont-promisify-fs-exists/" />
    <meta property="twitter:image" content="/blog/2015/11/10-dont-promisify-fs-exists/" />
    <meta name="twitter:card" content="summary_large_image">
  

</head>
<body class="page-post">
  





  <header>
    <nav class="primary">
      <ul>
        
          <li><a href="/">Home ğŸ </a></li>
        
          <li><a href="/blog">Blog âœï¸</a></li>
        
          <li><a href="/tidbits">Tidbits ğŸ˜‹</a></li>
        
          <li><a href="/projects">Projects ğŸ› â€â€</a></li>
        
          <li><a href="/about">About ğŸ’¡</a></li>
        
      </ul>
    </nav>

    <div class="sitename">
      <a href="/">picostitch</a>
      <div class="subtitle">
        crafting (and) JavaScript
      </div>
    </div>
  </header>

  <nav class="breadcrumb">
    
  <a href="/">Home</a> &raquo;
  <a href="/blog">Blog</a> &raquo;
  <a href="/blog/2015/11/">November 2015</a> &raquo;
  Don&#39;t promisify <code>fs.exists</code>

  </nav>

  <main>
    <div class="content">
      
  <article class="">
    <header>
      <h1 id="dont-promisify-fs-exists" is="more-h1">
        Don&#39;t promisify <code>fs.exists</code>
        
      </h1>
      <div class="metadata">
        Wolfram Kriesing
        - November 10, 2015
        
          - tagged with: #javascript #async #knowledgebase
        
      </div>
    </header>

    <p>Don&#39;t promisify <code>fs.exists</code> since this does not play by the rules of node style callback params,
where the first one should be err and then data. It seems this does return only the data, which
<a href="https://github.com/digitaldesignlabs/es6-promisify">promisify</a> understands as an error and does throw right away. Instead do what the 
<a href="https://nodejs.org/api/fs.html#fs_fs_exists_path_callback">node js docs suggest</a> 
too and use <code>fs.access</code> instead, like so: <code>promisify(fs.access)(aPath, fs.R_OK)</code>.
See it in action [here in the cosmowiki].</p>


    
    
  </article>

    </div>
    <aside class="right">
      
  

    </aside>
  </main>

  <footer>
    <div>
      <b>Pages</b><br/>
      <ul>
        
          <li><a href="/">Home ğŸ </a></li>
        
          <li><a href="/blog">Blog âœï¸</a></li>
        
          <li><a href="/tidbits">Tidbits ğŸ˜‹</a></li>
        
          <li><a href="/projects">Projects ğŸ› â€â€</a></li>
        
          <li><a href="/about">About ğŸ’¡</a></li>
        
      </ul>
    </div>
    <div>
      <b>Contact</b><br/>
      <ul>
        <li><a href="https://twitter.com/wolframkriesing" rel="me">Twitter</a><br/></li>
        <li><a href="https://codeberg.com/wolframkriesing" rel="me">Codeberg</a><br/></li>
        <li><a href="https://github.com/wolframkriesing" rel="me">Github</a><br/></li>
        <li><a href="mailto:w+through-picostitch-footer-contact@kriesing.de">Email</a><br/></li>
      </ul>
    </div>
    <div></div>
  </footer>
  <nav class="secondary">
    <div class="menu-button">&#9776;</div>
    <ul>
      
        <li><a href="/">Home ğŸ </a></li>
      
        <li><a href="/blog">Blog âœï¸</a></li>
      
        <li><a href="/tidbits">Tidbits ğŸ˜‹</a></li>
      
        <li><a href="/projects">Projects ğŸ› â€â€</a></li>
      
        <li><a href="/about">About ğŸ’¡</a></li>
      
    </ul>
  </nav>
</body>
</html>
