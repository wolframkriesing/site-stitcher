<!doctype html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="mobile-web-app-capable" content="yes" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="author" content="Wolfram Kriesing">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="picostitch - stitching knowhow for the world, bit by bit">
  <link rel="stylesheet" href="/style.css" type="text/css">
  <script async defer data-domain="picostitch.com" src="https://plausible.io/js/plausible.js"></script>
  <link rel="canonical" href="https://picostitch.com/blog/2017/03/01-starting-with-purescript/">
  <title>Purescript #1 - the semantics of JavaScript with types | picostitch - stuff about crafting (and) JavaScript</title>
  
</head>
<body class="page-post">

  <header>
    <nav role="navigation" aria-labelledby="primary-navigation">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/about">About</a></li>
        
      </ul>
    </nav>

    <div class="sitename">
      <a href="/">picostitch</a>
      <div class="subtitle">
        stuff about <b>crafting</b> (and) <b>JavaScript</b>
      </div>
    </div>
  </header>

  <div class="content-wrapper">
    <div class="sidebar">
      <div class="tags">
        
        <a href="/blog/tag/javascript/">#javascript</a><br/>
        
        <a href="/blog/tag/video/">#video</a><br/>
        
        <a href="/blog/tag/testing/">#testing</a><br/>
        
        <a href="/blog/tag/oop/">#oop</a><br/>
        
        <a href="/blog/tag/refactoring/">#refactoring</a><br/>
        
        <a href="/blog/tag/functional/">#functional</a><br/>
        
        <a href="/blog/tag/links/">#links</a><br/>
        
        <a href="/blog/tag/ruby/">#ruby</a><br/>
        
        <a href="/blog/tag/nodejs/">#nodejs</a><br/>
        
        <a href="/blog/tag/npm/">#npm</a><br/>
        
        <a href="/blog/tag/software design/">#software design</a><br/>
        
        <a href="/blog/tag/collect/">#collect</a><br/>
        
        <a href="/blog/tag/learning/">#learning</a><br/>
        
        <a href="/blog/tag/purescript/">#purescript</a><br/>
        
        <a href="/blog/tag/css/">#css</a><br/>
        
        <a href="/blog/tag/react/">#react</a><br/>
        
        <a href="/blog/tag/github/">#github</a><br/>
        
        <a href="/blog/tag/git/">#git</a><br/>
        
        <a href="/blog/tag/framework/">#framework</a><br/>
        
        <a href="/blog/tag/tdd/">#tdd</a><br/>
        
        <a href="/blog/tag/open source/">#open source</a><br/>
        
        <a href="/blog/tag/security/">#security</a><br/>
        
        <a href="/blog/tag/mikado method/">#mikado method</a><br/>
        
        <a href="/blog/tag/tests/">#tests</a><br/>
        
        <a href="/blog/tag/browser/">#browser</a><br/>
        
        <a href="/blog/tag/architecture/">#architecture</a><br/>
        
        <a href="/blog/tag/bash/">#bash</a><br/>
        
        <a href="/blog/tag/design/">#design</a><br/>
        
        <a href="/blog/tag/documentation/">#documentation</a><br/>
        
        <a href="/blog/tag/programming/">#programming</a><br/>
        
        <a href="/blog/tag/coderetreat/">#coderetreat</a><br/>
        
        <a href="/blog/tag/jscoderetreat/">#jscoderetreat</a><br/>
        
        <a href="/blog/tag/micorservices/">#micorservices</a><br/>
        
        <a href="/blog/tag/mentoring/">#mentoring</a><br/>
        
        <a href="/blog/tag/classes/">#classes</a><br/>
        
        <a href="/blog/tag/notes/">#notes</a><br/>
        
        <a href="/blog/tag/yarn/">#yarn</a><br/>
        
        <a href="/blog/tag/API/">#API</a><br/>
        
        <a href="/blog/tag/REST/">#REST</a><br/>
        
        <a href="/blog/tag/emberjs/">#emberjs</a><br/>
        
        <a href="/blog/tag/user story/">#user story</a><br/>
        
        <a href="/blog/tag/rails/">#rails</a><br/>
        
        <a href="/blog/tag/mocha/">#mocha</a><br/>
        
        <a href="/blog/tag/algorithm/">#algorithm</a><br/>
        
        <a href="/blog/tag/agile/">#agile</a><br/>
        
        <a href="/blog/tag/deploy/">#deploy</a><br/>
        
        <a href="/blog/tag/tool/">#tool</a><br/>
        
        <a href="/blog/tag/shell/">#shell</a><br/>
        
        <a href="/blog/tag/clean code/">#clean code</a><br/>
        
        <a href="/blog/tag/naming/">#naming</a><br/>
        
        <a href="/blog/tag/metalsmith/">#metalsmith</a><br/>
        
        <a href="/blog/tag/markdown/">#markdown</a><br/>
        
        <a href="/blog/tag/developer/">#developer</a><br/>
        
        <a href="/blog/tag/the web/">#the web</a><br/>
        
        <a href="/blog/tag/structured data/">#structured data</a><br/>
        
        <a href="/blog/tag/schema.org/">#schema.org</a><br/>
        
        <a href="/blog/tag/SEO/">#SEO</a><br/>
        
        <a href="/blog/tag/search engines/">#search engines</a><br/>
        
        <a href="/blog/tag/URL/">#URL</a><br/>
        
        <a href="/blog/tag/web/">#web</a><br/>
        
        <a href="/blog/tag/browsers/">#browsers</a><br/>
        
        <a href="/blog/tag/chrome/">#chrome</a><br/>
        
        <a href="/blog/tag/iOS/">#iOS</a><br/>
        
        <a href="/blog/tag/Apple/">#Apple</a><br/>
        
        <a href="/blog/tag/hacking/">#hacking</a><br/>
        
        <a href="/blog/tag/events/">#events</a><br/>
        
        <a href="/blog/tag/unconference/">#unconference</a><br/>
        
        <a href="/blog/tag/open space/">#open space</a><br/>
        
        <a href="/blog/tag/tmux/">#tmux</a><br/>
        
        <a href="/blog/tag/vi/">#vi</a><br/>
        
        <a href="/blog/tag/vim/">#vim</a><br/>
        
        <a href="/blog/tag/apprentice/">#apprentice</a><br/>
        
        <a href="/blog/tag/pwa/">#pwa</a><br/>
        
        <a href="/blog/tag/jscc17/">#jscc17</a><br/>
        
        <a href="/blog/tag/jscraftcamp/">#jscraftcamp</a><br/>
        
        <a href="/blog/tag/code formatting/">#code formatting</a><br/>
        
        <a href="/blog/tag/technical debt/">#technical debt</a><br/>
        
        <a href="/blog/tag/exception/">#exception</a><br/>
        
        <a href="/blog/tag/abstraction/">#abstraction</a><br/>
        
        <a href="/blog/tag/history/">#history</a><br/>
        
        <a href="/blog/tag/lint/">#lint</a><br/>
        
        <a href="/blog/tag/eslint/">#eslint</a><br/>
        
        <a href="/blog/tag/react-native/">#react-native</a><br/>
        
        <a href="/blog/tag/code quality/">#code quality</a><br/>
        
        <a href="/blog/tag/audio/">#audio</a><br/>
        
        <a href="/blog/tag/playground/">#playground</a><br/>
        
        <a href="/blog/tag/dependency injection/">#dependency injection</a><br/>
        
        <a href="/blog/tag/grid/">#grid</a><br/>
        
        <a href="/blog/tag/grid layout/">#grid layout</a><br/>
        
        <a href="/blog/tag/wasm/">#wasm</a><br/>
        
        <a href="/blog/tag/webassembly/">#webassembly</a><br/>
        
        <a href="/blog/tag/pulp/">#pulp</a><br/>
        
        <a href="/blog/tag/build tool/">#build tool</a><br/>
        
        <a href="/blog/tag/typing/">#typing</a><br/>
        
        <a href="/blog/tag/images/">#images</a><br/>
        
        <a href="/blog/tag/website/">#website</a><br/>
        
        <a href="/blog/tag/online service/">#online service</a><br/>
        
        <a href="/blog/tag/command line/">#command line</a><br/>
        
        <a href="/blog/tag/linux/">#linux</a><br/>
        
        <a href="/blog/tag/tooling/">#tooling</a><br/>
        
        <a href="/blog/tag/lsof/">#lsof</a><br/>
        
        <a href="/blog/tag/gitup/">#gitup</a><br/>
        
        <a href="/blog/tag/tools/">#tools</a><br/>
        
        <a href="/blog/tag/jsx/">#jsx</a><br/>
        
        <a href="/blog/tag/comment/">#comment</a><br/>
        
        <a href="/blog/tag/organizing/">#organizing</a><br/>
        
        <a href="/blog/tag/adr/">#adr</a><br/>
        
        <a href="/blog/tag/jinja/">#jinja</a><br/>
        
        <a href="/blog/tag/template/">#template</a><br/>
        
        <a href="/blog/tag/spaceless/">#spaceless</a><br/>
        
        <a href="/blog/tag/JSON/">#JSON</a><br/>
        
        <a href="/blog/tag/HTTP/">#HTTP</a><br/>
        
        <a href="/blog/tag/SOLID/">#SOLID</a><br/>
        
        <a href="/blog/tag/shortfilm/">#shortfilm</a><br/>
        
        <a href="/blog/tag/thinking/">#thinking</a><br/>
        
        <a href="/blog/tag/egoless/">#egoless</a><br/>
        
        <a href="/blog/tag/GraphQL/">#GraphQL</a><br/>
        
        <a href="/blog/tag/orm/">#orm</a><br/>
        
        <a href="/blog/tag/code analytics/">#code analytics</a><br/>
        
        <a href="/blog/tag/async/">#async</a><br/>
        
        <a href="/blog/tag/es6/">#es6</a><br/>
        
        <a href="/blog/tag/babeljs/">#babeljs</a><br/>
        
        <a href="/blog/tag/design patterns/">#design patterns</a><br/>
        
        <a href="/blog/tag/planning/">#planning</a><br/>
        
        <a href="/blog/tag/noestimates/">#noestimates</a><br/>
        
        <a href="/blog/tag/software quality/">#software quality</a><br/>
        
        <a href="/blog/tag/decoupling/">#decoupling</a><br/>
        
        <a href="/blog/tag/C#/">#C#</a><br/>
        
        <a href="/blog/tag/sort/">#sort</a><br/>
        
        <a href="/blog/tag/paper/">#paper</a><br/>
        
        <a href="/blog/tag/db/">#db</a><br/>
        
        <a href="/blog/tag/OO/">#OO</a><br/>
        
        <a href="/blog/tag/values/">#values</a><br/>
        
        <a href="/blog/tag/value object/">#value object</a><br/>
        
        <a href="/blog/tag/objects/">#objects</a><br/>
        
        <a href="/blog/tag/business object/">#business object</a><br/>
        
        <a href="/blog/tag/entities/">#entities</a><br/>
        
        <a href="/blog/tag/jskatas/">#jskatas</a><br/>
        
        <a href="/blog/tag/TDD/">#TDD</a><br/>
        
        <a href="/blog/tag/estimation/">#estimation</a><br/>
        
        <a href="/blog/tag/article/">#article</a><br/>
        
        <a href="/blog/tag/coupling/">#coupling</a><br/>
        
        <a href="/blog/tag/cohesion/">#cohesion</a><br/>
        
        <a href="/blog/tag/object calisthenics/">#object calisthenics</a><br/>
        
        <a href="/blog/tag/inheritance/">#inheritance</a><br/>
        
        <a href="/blog/tag/package.json/">#package.json</a><br/>
        
        <a href="/blog/tag/object-oriented design/">#object-oriented design</a><br/>
        
        <a href="/blog/tag/programming language/">#programming language</a><br/>
        
        <a href="/blog/tag/ide/">#ide</a><br/>
        
        <a href="/blog/tag/dojo/">#dojo</a><br/>
        
        <a href="/blog/tag/UI widgets/">#UI widgets</a><br/>
        
        <a href="/blog/tag/for slides/">#for slides</a><br/>
        
        <a href="/blog/tag/poster/">#poster</a><br/>
        
        <a href="/blog/tag/typography/">#typography</a><br/>
        
        <a href="/blog/tag/object-oriented/">#object-oriented</a><br/>
        
        <a href="/blog/tag/get-prefix/">#get-prefix</a><br/>
        
        <a href="/blog/tag/imperative/">#imperative</a><br/>
        
        <a href="/blog/tag/must watch/">#must watch</a><br/>
        
        <a href="/blog/tag/github-pages/">#github-pages</a><br/>
        
        <a href="/blog/tag/static page/">#static page</a><br/>
        
        <a href="/blog/tag/OS/">#OS</a><br/>
        
        <a href="/blog/tag/dvcs/">#dvcs</a><br/>
        
        <a href="/blog/tag/svn/">#svn</a><br/>
        
        <a href="/blog/tag/functional programming/">#functional programming</a><br/>
        
        <a href="/blog/tag/logic programming/">#logic programming</a><br/>
        
        <a href="/blog/tag/good developer/">#good developer</a><br/>
        
        <a href="/blog/tag/good code/">#good code</a><br/>
        
        <a href="/blog/tag/fun/">#fun</a><br/>
        
        <a href="/blog/tag/client-side/">#client-side</a><br/>
        
        <a href="/blog/tag/icons/">#icons</a><br/>
        
        <a href="/blog/tag/logos/">#logos</a><br/>
        
        <a href="/blog/tag/graphics/">#graphics</a><br/>
        
        <a href="/blog/tag/brand/">#brand</a><br/>
        
        <a href="/blog/tag/sound/">#sound</a><br/>
        
        <a href="/blog/tag/if/">#if</a><br/>
        
        <a href="/blog/tag/gh-pages/">#gh-pages</a><br/>
        
        <a href="/blog/tag/devops/">#devops</a><br/>
        
        <a href="/blog/tag/travis/">#travis</a><br/>
        
        <a href="/blog/tag/tddbin/">#tddbin</a><br/>
        
        <a href="/blog/tag/kata/">#kata</a><br/>
        
        <a href="/blog/tag/spanish/">#spanish</a><br/>
        
        <a href="/blog/tag/fork/">#fork</a><br/>
        
        <a href="/blog/tag/remote repo/">#remote repo</a><br/>
        
        <a href="/blog/tag/sync/">#sync</a><br/>
        
        <a href="/blog/tag/programmer/">#programmer</a><br/>
        
        <a href="/blog/tag/craft/">#craft</a><br/>
        
        <a href="/blog/tag/cookie/">#cookie</a><br/>
        
        <a href="/blog/tag/library/">#library</a><br/>
        
        <a href="/blog/tag/rebase/">#rebase</a><br/>
        
        <a href="/blog/tag/must read/">#must read</a><br/>
        
        <a href="/blog/tag/smalltalk/">#smalltalk</a><br/>
        
        <a href="/blog/tag/class name/">#class name</a><br/>
        
        <a href="/blog/tag/jscr/">#jscr</a><br/>
        
        <a href="/blog/tag/solid/">#solid</a><br/>
        
        <a href="/blog/tag/dependencies/">#dependencies</a><br/>
        
        <a href="/blog/tag/reactjs/">#reactjs</a><br/>
        
        <a href="/blog/tag/dom/">#dom</a><br/>
        
        <a href="/blog/tag/blog/">#blog</a><br/>
        
        <a href="/blog/tag/coffeescript/">#coffeescript</a><br/>
        
        <a href="/blog/tag/complexity/">#complexity</a><br/>
        
        <a href="/blog/tag/code/">#code</a><br/>
        
        <a href="/blog/tag/slides/">#slides</a><br/>
        
        <a href="/blog/tag/katas/">#katas</a><br/>
        
        <a href="/blog/tag/preprocessor/">#preprocessor</a><br/>
        
        <a href="/blog/tag/clojure/">#clojure</a><br/>
        
        <a href="/blog/tag/reducers/">#reducers</a><br/>
        
        <a href="/blog/tag/java/">#java</a><br/>
        
        <a href="/blog/tag/legacy/">#legacy</a><br/>
        
        <a href="/blog/tag/reactive programming/">#reactive programming</a><br/>
        
        <a href="/blog/tag/rx/">#rx</a><br/>
        
        <a href="/blog/tag/rxjs/">#rxjs</a><br/>
        
        <a href="/blog/tag/angularjs/">#angularjs</a><br/>
        
        <a href="/blog/tag/frontend/">#frontend</a><br/>
        
        <a href="/blog/tag/mock/">#mock</a><br/>
        
        <a href="/blog/tag/stub/">#stub</a><br/>
        
        <a href="/blog/tag/mocks/">#mocks</a><br/>
        
        <a href="/blog/tag/mac os/">#mac os</a><br/>
        
        <a href="/blog/tag/firefox/">#firefox</a><br/>
        
        <a href="/blog/tag/browser engine/">#browser engine</a><br/>
        
        <a href="/blog/tag/rust/">#rust</a><br/>
        
        <a href="/blog/tag/macos/">#macos</a><br/>
        
        <a href="/blog/tag/speed/">#speed</a><br/>
        
        <a href="/blog/tag/makefile/">#makefile</a><br/>
        
      </div>

      <div class="months">
        
        <a href="/blog/2020/04/">April 2020</a><br/>
        
        <a href="/blog/2020/03/">March 2020</a><br/>
        
        <a href="/blog/2018/07/">July 2018</a><br/>
        
        <a href="/blog/2018/05/">May 2018</a><br/>
        
        <a href="/blog/2017/11/">November 2017</a><br/>
        
        <a href="/blog/2017/04/">April 2017</a><br/>
        
        <a href="/blog/2017/03/">March 2017</a><br/>
        
        <a href="/blog/2017/02/">February 2017</a><br/>
        
        <a href="/blog/2017/01/">January 2017</a><br/>
        
        <a href="/blog/2016/06/">June 2016</a><br/>
        
        <a href="/blog/2016/04/">April 2016</a><br/>
        
        <a href="/blog/2016/02/">February 2016</a><br/>
        
        <a href="/blog/2015/12/">December 2015</a><br/>
        
        <a href="/blog/2015/11/">November 2015</a><br/>
        
        <a href="/blog/2015/10/">October 2015</a><br/>
        
        <a href="/blog/2015/05/">May 2015</a><br/>
        
        <a href="/blog/2015/04/">April 2015</a><br/>
        
        <a href="/blog/2015/03/">March 2015</a><br/>
        
        <a href="/blog/2014/03/">March 2014</a><br/>
        
        <a href="/blog/2014/02/">February 2014</a><br/>
        
        <a href="/blog/2014/01/">January 2014</a><br/>
        
      </div>
    </div>
    <div class="content">
      
  <h1>Purescript #1 - the semantics of JavaScript with types</h1>
  <p class="metadata">
    Wolfram Kriesing
    - March 1, 2017
    
      - tagged with: #purescript #javascript #functional #typing
    
  </p>

  <p>I am convinced, that stricter types are of help when writing, reading and understanding source code. Why? Ever had the <a href="http://wiki.c2.com/?PrimitiveObsession">primitive obsession</a>? And if you continue down the (type) rabbit whole, you get to stricter typing. And to Purescript, which attempts *&quot;to keep the semantics of JavaScript, while enjoying the syntax and type system of a language like Haskell&quot;*.</p>
<p>Purescript is bringing that to JavaScript while having an (I would say) tiny footprint in the compiled (JavaScript) code. Yes, Purescript compiles down to JavaScript, actually to very well readable JavaScript code (see for yourself towards the end of this post). Read on to get a quick intro on what it is.</p>
<p>The following quotes are from the book <a href="https://leanpub.com/purescript/read">&quot;PureScript by Example&quot;</a> by <a href="https://twitter.com/paf31">Phil Freeman</a>. I will try to extract what Purescript is, using quotes mixed with my own words.</p>
<blockquote>
<p>PureScript is a statically typed language, meaning that a correct program can be given a type by the compiler which indicates its behavior.</p>
</blockquote>
<p>I think a modern typed language must have type inference (which is the capability of the compiler to figure out some types by itself). Having to write out all the types for every variable would be quite a pain and is actually not really adding lots of value, just work. And Purescript shines there:</p>
<blockquote>
<p>Most importantly, PureScript’s type system supports type inference - it requires far fewer explicit type annotations than other languages, making the type system a tool rather than a hindrance.</p>
</blockquote>
<p>This capability paired with the strictness (see first quote) makes for a strong combination and I think this will help to write more predictable and better software. Phil states that in his book *&quot;static types are not only a means of gaining confidence in the correctness of your programs, but also an aid to development in their own right&quot;*.</p>
<p>A lot of time we spend in changing code, which we normally (should) do via refactoring. Here Purescript shines again, compared to JavaScript, where it *&quot;can be difficult when using any but the simplest of abstractions&quot;* as Phil states. From experience I can say that this is an issue. You know the code and it&#39;s &quot;interfaces&quot; as long as you are deep inside of it esp. while writing it, but reading it and even worse changing it, especially making big changes, in pure JavaScript, with pure objects, that maybe don&#39;t even have good names, can become quite spooky. Especially when untyped data structures bubble through the code, get mixed and mangled, sliced up and mapped.</p>
<h2 id="some-code-please">Some code please</h2>
<p>Below you see a tiny function, taken from the book.</p>
<pre><code class="language-text">module Main where

import Math (sqrt)
import Prelude

diagonal w h = sqrt(w * w + h * h)</code></pre>
<p>in the following you can see that the compiled source code is actually very readable compatible JavaScript code.</p>
<pre><code class="language-js">&quot;use strict&quot;;
var $$Math = require(&quot;../Math&quot;);
var Prelude = require(&quot;../Prelude&quot;);
var Data_Semiring = require(&quot;../Data.Semiring&quot;);
var diagonal = function (w) {
    return function (h) {
        return $$Math.sqrt(w * w + h * h);
    };
};
module.exports = {
    diagonal: diagonal
};</code></pre>
<h2 id="get-started-asap">Get started, asap</h2>
<p>And on top, Purescript comes with the tool <code>pulp</code> which called like so <code>pulp browserify</code> generates source code you can use in the browser right away. So Purescript is a tool for the front-end and the backend. You can get started now to be stricter with your code!</p>
<p>You want to get started? Here I can just quote the book again, which mentions some great example use cases, where you can start using Purescript a little at a time, you can do like so:</p>
<blockquote>
<ul>
<li>Core logic written in PureScript, with the user interface written in JavaScript.</li>
<li>Application written in JavaScript or another compile-to-JS language, with tests written in PureScript.</li>
<li>PureScript used to automate user interface tests for an existing application.</li>
</ul>
</blockquote>
<p>I would like to generalize the last bullet point on the list a bit more. You can simply import the actual production code into your tests and just write them in Purescript. Just look at the generated JavaScript above and you see the <code>require</code>, which looks like an easy to use hook to existing JS code, and that is the case. I think writing tests in Purescript is a great way to start using Purescript and learn by using it in a less critical part of your application. I think this less critical part, the tests, will soon become the driving force for the source code, since the power of Purescript will shine through quite fast.</p>


  
  


    </div>
    <div class="sidebar">
      
  
    <h3>Related Posts</h3>
    
      
        <a href="/blog/2017/03/11-purescript-5/">Purescript #5 - Compiling for the browser [Unfinished]</a><br/>
      
    
      
        <a href="/blog/2017/03/10-purescript-4/">Purescript #4 - [Unfinished]</a><br/>
      
    
      
        <a href="/blog/2017/03/07-purescript-build-tool-pulp-3/">Purescript #3 - Build tool, pulp</a><br/>
      
    
      
        <a href="/blog/2017/03/05-install-purescript-2/">Purescript #2 - Installing</a><br/>
      
    
      
        Purescript #1 - the semantics of JavaScript with types<br/>
      
    
  

    </div>
  </div>

  <footer>
    <div>
      <b>Pages</b><br/>
      <a href="/">Home</a><br/>
      <a href="/about">About</a><br/>
    </div>
    <div>
      <b>Contact</b><br/>
      <a href="https://twitter.com/wolframkriesing">Twitter</a><br/>
      <a href="mailto:w+through-picostitch-footer-contact@kriesing.de">Email</a><br/>
    </div>
    <div></div>
  </footer>

  <nav class="secondary">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/about">About</a></li>
      
    </ul>
  </nav>

</body>
</html>