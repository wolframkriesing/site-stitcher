<!doctype html>
<html lang="en" prefix="og: https://ogp.me/ns#">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="mobile-web-app-capable" content="yes" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="author" content="Wolfram Kriesing">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="picostitch - crafting (and) JavaScript">

    <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@wolframkriesing" />
  <meta name="twitter:title" content="Find out which process listens on which port" />

  <meta property="og:title" content="Find out which process listens on which port">
  <meta property="og:type" content="website">
<meta property="og:url" content="https://picostitch.com/blog/2017/02/09-which-process-uses-this-port/">  <meta property="og:site_name" content="picostitch - crafting (and) JavaScript">

  <script async defer data-domain="picostitch.com" src="https://plausible.io/js/plausible.js"></script>
<link rel="canonical" href="https://picostitch.com/blog/2017/02/09-which-process-uses-this-port/">  <title>Find out which process listens on which port | picostitch - crafting (and) JavaScript</title>

  <script async defer type="module" src="https://more-html.github.io/components/src/Heading-loader.js"></script>
  <link rel="stylesheet" href="/blog/blog.css" type="text/css">
  <meta property="article:type" content="article" />
    <meta property="article:tag" content="command line" />
    <meta property="article:tag" content="linux" />
    <meta property="article:tag" content="tooling" />
    <meta property="article:tag" content="lsof" />
    <meta property="article:tag" content="knowledgebase" />

  <meta property="og:description" content="The annoying `port 8080 is already in use` message and not knowing which
process is occupying this port sucks. I knew it was `lsof` that can help me.
But how exactly?
TL;DR: ``ps -p `lsof -i :8080 -t` -o command=`` (on Mac OSX)" />
  <meta property="article:description" content="The annoying `port 8080 is already in use` message and not knowing which
process is occupying this port sucks. I knew it was `lsof` that can help me.
But how exactly?
TL;DR: ``ps -p `lsof -i :8080 -t` -o command=`` (on Mac OSX)" />
  <meta name="twitter:description" content="The annoying `port 8080 is already in use` message and not knowing which
process is occupying this port sucks. I knew it was `lsof` that can help me.
But how exactly?
TL;DR: ``ps -p `lsof -i :8080 -t` -o command=`` (on Mac OSX)" />

    <meta property="og:image" content="https://picostitch.com/blog/2017/02/09-which-process-uses-this-port/" />
    <meta property="og:image:url"  content="https://picostitch.com/blog/2017/02/09-which-process-uses-this-port/" />
    <meta name="twitter:image" content="https://picostitch.com/blog/2017/02/09-which-process-uses-this-port/" />
</head>
<body class="page-post">

    <header>
    <nav class="primary">
        <ul>
      <li><a href="/">Home üè†</a></li>
      <li><a href="/blog">Blog ‚úçÔ∏è</a></li>
      <li><a href="/tidbits">Tidbits üòã</a></li>
      <li><a href="/projects">Projects üõ†‚Äç‚Äç</a></li>
      <li><a href="/about">About üí°</a></li>
  </ul>

    </nav>

    <div class="sitename">
      <a href="/">picostitch</a>
      <div class="subtitle">
        crafting (and) JavaScript
      </div>
    </div>
  </header>



  <nav class="breadcrumb">
  <a href="/">Home</a> &raquo;
  <a href="/blog">Blog</a> &raquo;
  <a href="/blog/2017/02/">February 2017</a> &raquo;
  Find out which process listens on which port
  </nav>

  <main>
    <div class="content">
  <article class="">


    <header>
      <h1 id="which-process-uses-this-port" is="more-h1">
        Find out which process listens on which port
        
      </h1>
      <div class="metadata">
        Wolfram Kriesing - February 9, 2017
            - tagged with:
      <a href="/tag/command-line/" class="tag">#command line</a>
      <a href="/tag/linux/" class="tag">#linux</a>
      <a href="/tag/tooling/" class="tag">#tooling</a>
      <a href="/tag/lsof/" class="tag">#lsof</a>
      <a href="/tag/knowledgebase/" class="tag">#knowledgebase</a>

      </div>
    </header>


    <p>The annoying <code>port 8080 is already in use</code> message and not knowing which
process is occupying this port sucks. I knew it was <code>lsof</code> that can help me.
But how exactly?
TL;DR: <code>ps -p `lsof -i :8080 -t` -o command=</code> (on Mac OSX)</p>
<p>I just wanted to start the react-native app via <code>react-native run-ios</code>.
It didn&#39;t start the first time. Because of my built-in laziness I just ran the command again.
Ran it again, and read the output, just than</p>
<pre><code class="undefinedbash">Port 8080 already in use, packager is either not running or not running correctly</code></pre>
<p>Ah the port is in use, that&#39;s why react-native didn&#39;t come up.
There was this handy linux command <code>lsof</code> (list open files). A simple
web search later and I found a <a href="https://debian-administration.org/article/184/How_to_find_out_which_process_is_listening_upon_a_port">great article on it</a>, which showed the solution <code>lsof -i :8080</code>
where <code>8080</code> is the port.
When you run this you might get something like this:</p>
<pre><code class="undefinedbash">&gt; lsof -i :8080
COMMAND PID USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME
node    178 wk     13u  IPv4 0xaa0005c2e1d30003      0t0  TCP *:http-alt (LISTEN)</code></pre>
<p>This is a nicely formatted table. It first lists <code>node</code> which is the command
that was run and is still running and occupying the port 8080.</p>
<h2 is="more-h2" id="which-program-is-running">Which program is running?</h2>
<p>In order to find out the full command was run the PID (process identifier) will help
us. Fortunately we got it in the line above, see the second column, it&#39;s 28161.
By adding <code>-t</code> to the <code>lsof</code> command we can receive only the process ID.</p>
<pre><code class="undefinedbash">&gt; lsof -i :8080 -t
178</code></pre>
<p>Now we can pass the PID into <code>ps</code> (process status) and we will get all info about
the process running, like so:</p>
<pre><code class="undefinedbash">&gt; ps -p 178
  PID TTY           TIME CMD
  178 ttys006    0:01.00 node /Users/wk/cosmowiki/node_modules/.bin/http-server dist</code></pre>
<p>In the last column we can see the command that was actually run.
So let&#39;s call <code>ps</code> so that it will JUST list the command that is running
and occupying port 8080. We do that by adding <code>-o command</code> which tells
<code>ps</code> to just show the command. This will leave an useless headline above the
command. We can remove it by passing an empty headline, which ps will
ignore, we do that by using the parameter we pass to <code>-o</code> as a key-value
pair and leave the value (the headline) empty. We use <code>-o command=</code>, looks
strange but works :).</p>
<pre><code class="undefinedbash">&gt; ps -p `lsof -i :8080 -t` -o command=
node /Users/wk/cosmowiki/node_modules/.bin/http-server dist</code></pre>
<p>This results in just the command that I had run and which occupies port 8080.</p>
<h2 is="more-h2" id="kill-the-running-process">Kill the running process</h2>
<p>Now I know why and I know what I have to stop, if I want to stop the process
right now, I can call</p>
<pre><code class="undefinedbash">&gt; kill `lsof -i :8080 -t`</code></pre>
<h2 is="more-h2" id="some-words-about-lsof">Some words about lsof</h2>
<p>Just play around with it, and you will see there are many open files, and
on a unix style system most of the things are files, that&#39;s why a line count
of a <code>lsof</code> run will also show you quite a big number of lines.</p>
<pre><code>&gt; lsof | wc -l
14227</code></pre>
<p>related_tweets:</p>
<blockquote class="twitter-tweet" data-conversation="none" data-cards="hidden" data-partner="tweetdeck"><p lang="en" dir="ltr"><a href="https://twitter.com/wolframkriesing">@wolframkriesing</a> Small nitpick: My Linux ps doesn&#39;t know &quot;-p&quot; - Works on FreeBSD, and so I guess you use OSX :)</p>&mdash; My Own Worst Enemy (@anderiasch) <a href="https://twitter.com/anderiasch/status/834859794892730369">February 23, 2017</a></blockquote>


  </article>
    </div>
  <aside class="right">
      <h3 id="related" is="more-h3">Related Posts</h3>
          <span>Find out which process listens on which port</span><br/>
          <a href="/tidbits/2020/04/find-files-and-execute-command-with-each/">Find Files and Execute Command with Each</a><br/>
  </aside>
  </main>

    <footer>
    <div>
      <b>Pages</b>
        <ul>
      <li><a href="/">Home üè†</a></li>
      <li><a href="/blog">Blog ‚úçÔ∏è</a></li>
      <li><a href="/tidbits">Tidbits üòã</a></li>
      <li><a href="/projects">Projects üõ†‚Äç‚Äç</a></li>
      <li><a href="/about">About üí°</a></li>
  </ul>

    </div>

    <div>
      <b>Contact</b>
      <ul>
        <li><a href="https://twitter.com/wolframkriesing" rel="me">Twitter</a></li>
        <li><a href="https://codeberg.com/wolframkriesing" rel="me">Codeberg</a></li>
        <li><a href="https://github.com/wolframkriesing" rel="me">Github</a></li>
        <li><a href="mailto:w+through-picostitch-footer-contact@kriesing.de">Email</a></li>
      </ul>
    </div>
  </footer>

    <nav class="secondary">
    <div class="menu-button">&#9776;</div>
      <ul>
      <li><a href="/">Home üè†</a></li>
      <li><a href="/blog">Blog ‚úçÔ∏è</a></li>
      <li><a href="/tidbits">Tidbits üòã</a></li>
      <li><a href="/projects">Projects üõ†‚Äç‚Äç</a></li>
      <li><a href="/about">About üí°</a></li>
  </ul>

  </nav>

</body>
</html>
