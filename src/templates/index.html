@extends(src/templates/_base.html)

{[ block pagename ]}home{[ endblock ]}

{[ block pageTitlePrefix ]}Blog{[ endblock ]}

{[ block content ]}
  <article class="latest">
    <header>
      <h1><a href="{{posts[0].url}}">{{posts[0].headline}}</a>{{ posts[0].hasVideo ? ' ðŸ“º' : '' }}</h1>
      <div class="metadata">
        {{toReadableDate(posts[0].dateCreated)}}
        {% if (posts[0].tags.length > 0) { %}
          - tagged with: {{ posts[0].tags.map(tag => `#${tag}`).join(' ') }}
        {% } %}
      </div>
    </header>
    <p class="abstract">
      {!posts[0].abstractAsHtml!}
      <br/>
      <a href="{{posts[0].url}}">Continue reading â†’</a>
    </p>
  </article>

  {% posts.slice(1).map(post => { %}
    <article class="preview" itemscope itemtype="http://schema.org/BlogPosting">
      <header>
        <h2><a href="{{post.url}}" itemprop="url">
          <span itemprop="name headline">{{post.headline}}</span></a>
        {{ post.hasVideo ? ' ðŸ“º' : '' }}</h2>
        <div class="metadata">
          {{toReadableDate(post.dateCreated)}}
          {% if (post.tags.length > 0) { %}
            - tagged with: {{ post.tags.map(tag => `#${tag}`).join(' ') }}
          {% } %}
        </div>
      </header>
      <div class="content">
        <p class="abstract">
          {!post.abstractAsHtml!}
          <a href="{{post.url}}">Continue reading â†’</a>
        </p>
      </div>
    </article>
  {% }) %}
{[ endblock ]}
