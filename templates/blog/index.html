@extends(templates/_allFeatures.html)

{[ block pagename ]}home{[ endblock ]}
{[ block canonicalUrl ]}/{[ endblock ]}
{[ block pageTitlePrefix ]}Blog{[ endblock ]}

{[ block breadcrumb ]}
  <a href="/">Home</a> &raquo; Blog
{[ endblock ]}

{[ block content ]}
  <article class="latest">
    <header>
      <h1 id="{{posts[0].slug}}" is="more-h1">
        <a href="{{posts[0].url}}">{!posts[0].headlineAsHtml!}</a>{{ posts[0].hasVideo ? ' ðŸ“º' : '' }}
      </h1>
      <div class="metadata">
        {{toReadableDate(posts[0].dateCreated)}}
        {% if (posts[0].tags.length > 0) { %}
          - tagged with: {{ posts[0].tags.map(tag => `#${tag}`).join(' ') }}
        {% } %}
      </div>
    </header>
    <p class="abstract">
      {!posts[0].abstractAsHtml!}
    </p>
    <a href="{{posts[0].url}}">Continue reading â†’</a>
  </article>

  @require(templates/blog/_parts.html)
  {% posts.slice(1).map(post => { %}
    @spread(articlePreview)
  {% }) %}
{[ endblock ]}
