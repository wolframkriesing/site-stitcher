{% macro articlePreview(post) %}
  <article class="preview {{ 'isDraft' if post.isDraft else '' }}" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h2 id="{{post.slug}}" is="more-h2">
        <a href="{{post.url}}" itemprop="url">
        <span itemprop="name headline">{{post.headlineAsHtml | safe }}</span></a>
        {{' ðŸ“º' if post.hasVideo else ''}}
        {{' [this is a draft]' if post.isDraft else ''}}
      </h2>
      <div class="metadata">
        {{post.dateCreated | toReadableDate}}
        {% if post.tags.length > 0 %}
          - tagged with: {% for tag in post.tags %}#{{tag}} {% endfor %}
        {% endif %}
      </div>
    </header>
    <div class="content">
      <p class="abstract">{{post.abstractAsHtml | safe }}</p>
    </div>
  </article>
{% endmacro %}

{% macro tagsNav(groups) %}
  <nav class="tags">
    <header>Top Blog Tags</header>
    <ol>
      {% for group in groups %}
        <li><a href="/blog/tag/{{group.tag}}/">#{{group.tag}}</a></li>
      {% endfor %}
    </ol>
  </nav>
{% endmacro %}

{% macro monthsNav(groups) %}
  <nav class="months">
    <header>Posts by Month</header>
    <ol>
      {% for group in groups %}
        <li><a href="/blog/{{ group.yearAndMonth.replace('-', '/') }}/">{{ group.yearAndMonth | toReadableDate }}</a></li>
      {% endfor %}
    </ol>
  </nav>
{% endmacro %}
