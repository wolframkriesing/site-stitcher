<!doctype html>
<html lang="en" prefix="og: https://ogp.me/ns#">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="mobile-web-app-capable" content="yes" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="author" content="Wolfram Kriesing">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="picostitch - crafting (and) JavaScript">

    <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@wolframkriesing" />
  <meta name="twitter:title" content="Hexagonal Architecture (in JavaScript)" />

  <meta property="og:title" content="Hexagonal Architecture (in JavaScript)">
  <meta property="og:type" content="website">
<meta property="og:url" content="https://picostitch.com/tidbits/2021/02/hexagonal-architecture-in-javascript/">  <meta property="og:site_name" content="picostitch - crafting (and) JavaScript">

  <script async defer data-domain="picostitch.com" src="https://plausible.io/js/plausible.js"></script>
<link rel="canonical" href="https://picostitch.com/tidbits/2021/02/hexagonal-architecture-in-javascript/">  <title>Hexagonal Architecture (in JavaScript) | picostitch - crafting (and) JavaScript</title>

  <script async defer type="module" src="https://more-html.github.io/components/src/Heading-loader.js"></script>
  <link rel="stylesheet" href="/tidbits/tidbits.css" type="text/css">
  <meta property="article:type" content="article" />
    <meta property="article:tag" content="architecture" />
    <meta property="article:tag" content="software design" />
    <meta property="article:tag" content="patterns" />

  <meta property="og:description" content="The [original article where Alistair Cockburn describes 
Hexagonal architecture](https://alistair.cockburn.us/hexagonal-architecture/) 
is the best intro and a good read,
no matter what year it is." />
  <meta property="article:description" content="The [original article where Alistair Cockburn describes 
Hexagonal architecture](https://alistair.cockburn.us/hexagonal-architecture/) 
is the best intro and a good read,
no matter what year it is." />
  <meta name="twitter:description" content="The [original article where Alistair Cockburn describes 
Hexagonal architecture](https://alistair.cockburn.us/hexagonal-architecture/) 
is the best intro and a good read,
no matter what year it is." />

    <meta property="og:image" content="https://picostitch.com/tidbits/2021/02" />
    <meta property="og:image:url" content="https://picostitch.com/tidbits/2021/02" />
    <meta name="twitter:image" content="https://picostitch.com/tidbits/2021/02" />
</head>
<body class="page-tidbit">

    <header>
    <nav class="primary">
        <ul>
      <li><a href="/">Home üè†</a></li>
      <li><a href="/blog">Blog ‚úçÔ∏è</a></li>
      <li><a href="/tidbits">Tidbits üòã</a></li>
      <li><a href="/projects">Projects üõ†‚Äç‚Äç</a></li>
      <li><a href="/about">About üí°</a></li>
  </ul>

    </nav>

    <div class="sitename">
      <a href="/">picostitch</a>
      <div class="subtitle">
        crafting (and) JavaScript
      </div>
    </div>
  </header>



  <nav class="breadcrumb">
  <a href="/">Home</a> &raquo;
  <a href="/tidbits/">Tidbits</a> &raquo;
  Hexagonal Architecture (in JavaScript)
  </nav>

  <main>
    <div class="content">
  <article>


    <header>
      <div class="tag" data-tag="architecture">#architecture</div>
      <h1 id="hexagonal-architecture-in-javascript" is="more-h1">Hexagonal Architecture (in JavaScript)</h1>
      <div class="metadata">
        Wolfram Kriesing - February 27, 2021
            - tagged with:
      <a href="/tag/architecture/" class="tag">#architecture</a>
      <a href="/tag/software-design/" class="tag">#software design</a>
      <a href="/tag/patterns/" class="tag">#patterns</a>

      </div>
    </header>

    <p>The <a href="https://alistair.cockburn.us/hexagonal-architecture/">original article where Alistair Cockburn describes 
Hexagonal architecture</a> 
is the best intro and a good read,
no matter what year it is.</p>
<p>The sentence</p>
<blockquote>
<p>First and worst, people tend not to take the ‚Äúlines‚Äù in the layered drawing seriously. 
They let the application logic leak across the layer boundaries</p>
</blockquote>
<p>made me think that I want a linter for verifying that the code that is written
does not violate the architecture boundaries, and that for example
a port never uses a use case, but only the other way around.</p>
<h2 is="more-h2" id="archunit">Arch(Unit)</h2>
<p>Welcome ArchUnit. As I learned in 
<a href="#very-good-1h-in-depth">@Ted&#39;s video</a>
there is <a href="https://www.archunit.org/use-cases">ArchUnit</a> which allows writing unit tests for
exactly this, in Java. Fun fact, ArchUnit is maintained by TNG, a Munich-based company,
around the corner, an active Munich community member üëãüèΩ over. (Soon we will all be back in person.)</p>
<p>There is even a JavaScript pendant for it <a href="https://github.com/migh1/archijs#readme">&quot;archijs&quot;</a>, 
looks like it didn&#39;t get much attention from the world yet. Let&#39;s change that. I write about it separately in
<a href="../arch-unit-for-java-script-archijs/">&quot;ArchUnit For JavaScript - archijs&quot;</a>, 
so search engines will eventually find it too ‚ò∫Ô∏è.</p>
<p>Back to hexagonal architecture as such.</p>
<h2 is="more-h2" id="primary-and-secondary-actors">Primary and Secondary Actors</h2>
<p>Alistair observed in applications he built, that there are two
types of actors.</p>
<blockquote>
<p>A &quot;primary actor&quot; is an actor that drives the application [...].<br>A &quot;secondary actor&quot; is one that the application drives</p>
</blockquote>
<p>These actors are also reflected in what the hexagonal architecture diagram looks like.</p>
<blockquote>
<p>draw the &quot;primary ports &quot;and&quot; primary adapters&quot; on the left side (or top) of the hexagon, 
and the &quot;secondary ports&quot; and &quot;secondary adapters&quot; on the right (or bottom) side of the hexagon</p>
</blockquote>
<p>In the <a href="#naming-ports">video linked below</a>, 
he says that the difference between a primary and a secondary
actor is just &quot;who initiates the conversation&quot;. The one who does is the primary actor.</p>
<h2 is="more-h2" id="how-many-ports">&quot;How Many Ports?&quot;</h2>
<p>The headline is actually from his article and was one of the questions I had too.</p>
<blockquote>
<p>What exactly a port is and isn‚Äôt is largely a matter of taste.</p>
</blockquote>
<p>Still he gives some good example. Where a port is something as abstract
like &quot;trigger data&quot; or &quot;incoming events&quot; or alike. These can be multiple things,
depending what the system does. But it shows a very abstract kind of port.
In another example he uses &quot;user-site API&quot; for the incoming data (primary port) and
&quot;data-side API&quot; for the outgoing (secondary port).</p>
<p>I read this as &quot;think about it yourself and it might be very different for every app&quot;.
As usual, there is no one silver bullet.</p>
<h2 is="more-h2" id="naming-ports">Naming Ports</h2>
<p><a href="https://www.youtube.com/watch?v=th4AgBcrEHA">Alistair in the &quot;Hexagone&quot; 1/3</a> (youtube video, &gt;30min)<br>Alistair Cockburn talking (the first time) about Hexagonal Architecture
he takes the magic out of the word &quot;ports&quot; by:</p>
<blockquote>
<p>What&#39;s a &quot;port&quot;? It&#39;s an interface. Done</p>
</blockquote>
<iframe width="427" height="240" name="video" src="//www.youtube.com/embed/th4AgBcrEHA" frameborder="0" allowfullscreen></iframe>

<p>A &quot;translation&quot; of port, or how to find what to call the port is
fill the gaps in &quot;for ___ing&quot;, or as he says around minute 12
a &quot;port is the intention of the dialog, it&#39;s not the technology&quot;
That&#39;s why a port might be called &quot;adding events&quot; but never &quot;reading kafka&quot;.</p>
<h2 is="more-h2" id="the-test-case-is-the-first-user-of-your-system">The Test Case is the First User of your System</h2>
<p>&quot;A test case is the first user of your system&quot;
That makes even so much more sense when you know hexagonal architecture.
Alistair says in the video around minute 29.</p>
<h2 is="more-h2" id="hexagonal-and-react-javascript">Hexagonal and React (JavaScript)</h2>
<p>Initially I started reading because I want to find a good example of how
someone uses React and hexagonal architecture. Yes, there are many examples
which show how flux and redux are hexagonal architecture. But I feel these are 
too often used in a way to create &quot;store all things in global state and call it 
a redux store&quot;. I have not seen really good encapsulated examples of that yet.</p>
<p>One article I found is 
<a href="https://medium.com/@Killavus/hexagonal-architecture-in-javascript-applications-and-how-it-relates-to-flux-349616d1268d#.ik8250i7s">&quot;Hexagonal architecture in JavaScript applications ‚Äî and how it relates to Flux&quot;</a>
I really like the readability of the code.
Once you understand what a port and a use case is, this makes so much sense.</p>
<h2 is="more-h2" id="more-resources">More Resources</h2>
<h3 is="more-h3" id="in-depth-post">In Depth Post</h3>
<p><a href="https://blog.octo.com/en/hexagonal-architecture-three-principles-and-an-implementation-example/">Hexagonal Architecture: three principles and an implementation example</a><br>This post contains helpful explanations and also good example code.
It even explains how to organize the code inside a method that works
with ports, adapters etc.</p>
<h3 is="more-h3" id="alistair-cockburn-part-2-and-3">Alistair Cockburn, Part 2 and 3</h3>
<p><a href="https://www.youtube.com/watch?v=iALcE8BPs94">Alistair in the &quot;Hexagone&quot; 2/3</a><br><a href="https://www.youtube.com/watch?v=DAe0Bmcyt-4">Alistair in the &quot;Hexagone&quot; 3/3</a>  </p>
<h3 is="more-h3" id="very-good-1h-in-depth">Very good 1h in depth</h3>
<p><a href="https://www.youtube.com/watch?v=ujb_O6myknY">More Testable Code with the Hexagonal Architecture</a>
is a very detailed and well explained lesson. Also explaining many related terms.
By <a href="https://twitter.com/jitterted">@Ted M. Young</a>.</p>
<iframe width="427" height="240" name="video" src="//www.youtube.com/embed/ujb_O6myknY" frameborder="0" allowfullscreen></iframe>

<h3 is="more-h3" id="a-must-see">A must see</h3>
<p>It took me years to understand what he means with this. I mean I get the words,
the logic, I get the reasoning, but how to do it and understanding that there is still a lot
to learn before accomplishing this, it is not easy.
A Classic 
<a href="https://vimeo.com/80533536">J.B. Rainsberger - Integrated Tests Are A Scam</a>
he sientifically proves why splitting up code, e.g. using hexagonal architecture, pays off.</p>
<iframe src="https://player.vimeo.com/video/80533536" width="427" height="240" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>

<h3 is="more-h3" id="more-input-from-output">More Input from Output</h3>
<p><a href="https://twitter.com/search?q=%22hexagonal%20architecture%22&amp;f=live">Searching for &quot;hexagonal architecture&quot;</a>
on twitter reveals constantly new and interesting pieces of knowledge.</p>
<h3 is="more-h3" id="very-nice-visualization">Very nice Visualization</h3>
<p><a href="https://github.com/Sairyss/domain-driven-hexagon#Diagram">https://github.com/Sairyss/domain-driven-hexagon#Diagram</a></p>
<figure>
    <picture>
        <source srcset="../hexagonal-visual.webp">
        <img src="../hexagonal-visual.png" alt="A hexagonal diagram" width="100%" />
    </picture>
    <figcaption>A hexagonal diagram</figcaption>
</figure>





  </article>
    </div>
  </main>

    <footer>
    <div>
      <b>Pages</b>
        <ul>
      <li><a href="/">Home üè†</a></li>
      <li><a href="/blog">Blog ‚úçÔ∏è</a></li>
      <li><a href="/tidbits">Tidbits üòã</a></li>
      <li><a href="/projects">Projects üõ†‚Äç‚Äç</a></li>
      <li><a href="/about">About üí°</a></li>
  </ul>

    </div>

    <div>
      <b>Contact</b>
      <ul>
        <li><a href="https://twitter.com/wolframkriesing" rel="me">Twitter</a></li>
        <li><a href="https://codeberg.com/wolframkriesing" rel="me">Codeberg</a></li>
        <li><a href="https://github.com/wolframkriesing" rel="me">Github</a></li>
        <li><a href="mailto:w+through-picostitch-footer-contact@kriesing.de">Email</a></li>
      </ul>
    </div>
  </footer>

    <nav class="secondary">
    <div class="menu-button">&#9776;</div>
      <ul>
      <li><a href="/">Home üè†</a></li>
      <li><a href="/blog">Blog ‚úçÔ∏è</a></li>
      <li><a href="/tidbits">Tidbits üòã</a></li>
      <li><a href="/projects">Projects üõ†‚Äç‚Äç</a></li>
      <li><a href="/about">About üí°</a></li>
  </ul>

  </nav>

</body>
</html>
